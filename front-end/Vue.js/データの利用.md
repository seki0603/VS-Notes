# 親コンポーネントから子へデータを渡す
## データを受け取る側（子側）
defineProps関数を使用し、受け取るpropsの型と名前を定義。
```
<script setup>
defineProps({
  text: String, // バリデーション(型チェック)
});
</script>

<template>
  <p>{{ text }}</p>
</template>
```
* text...データの名前
* String...データの型
* データを表示する部分を`{{ 名前 }}`に変更
※Readonly,バリデーションとデフォルト設定も可能
<br>

## データを渡す側（親側）
コンポーネントタグの属性として渡したい値を書く  
`<TestComponent text="propsTest"/>`
* データの名前=値の形式で記述

<br><br>

# コンポーネント内でデータを保持する
scriptタグ名でデータ(変数や定数)を定義する
```
<script setup>
const dataTest = 'データ保持の確認'
</script>

<template>
  <p>{{ dataTest }}</p>
</template>
```
* templateタグ内で表示

<br><br>

# データバインディング
## テキストバインディング
HTML内にテキストとしてデータを表示する
<br>

### マスタッシュ構文(二重波括弧)を使う
```
<script setup>
const dataTest = 'テキストデータ'
</script>

<template>
  <p>{{ dataTest }}</p>
</template>
```

### v-textを使う
```
<script setup>
const dataTest = 'テキストデータ'
</script>

<template>
  <p v-text="dataText"></p>
</template>
```

## 属性バインディング
HTMLの属性にデータを割り当てる
```
<script setup>
const imageUrl = "/sample.png";
</script>

<template>
  <img v-bind:src="imageUrl" />
</template>
```
* `v-bind:属性名='データの名前'`
* v-bindは省略可能`<img :src="imageUrl" />`
<br>

※複数指定する場合`v-bind="{属性: データ, 属性: データ}"`

## イベントバインディング
HTML要素のイベント(クリックなど)とVueのメソッドを結びつける
```
<script setup>
function myMethod() {
    console.log("メソッド実行");
}
</script>

<template>
    <button v-on:click="myMethod">メソッド実行</button>
</template>
```
* `v-on:イベントの種類='メソッド名'`
* v-onの代わりに@を使うことも出来る`<button @click="myMethod" >`
<br>

### 修飾子
```
<template>
  <button @click.prevent="myMethod">button</button>
  <button @click.stop="myMethod">button</button>
</template>
```
* `@click.prevent`...デフォルトの挙動を防ぐ
* `@click.stop`...イベントの発生を伝えなくする
<br>

### キー修飾子
```
<template>
  <input type="text" @keyup.space.delete="myMethod"
</template>
```
* キーボードイベントに対してのみ使用可能
* イベントが発生するキーを修飾子として指定できる
* 指定するキーをドットで繋げて複数指定できる
<br>

## 双方向バインディング
HTMLのフォームの要素とデータの双方向を結びつける  
片方が変わったらもう片方にも反映される

### ref関数
ref関数で定義したデータは常に監視され、変更があると即座に反映される(リアクティビティ)  
v-modelとセットで使用される
```
<script setup>
import { ref } from "vue";
const name = ref("");
</script>

<template>
    <label for="name">名前</label>
    <input type="text" id="name" v-model="name" />
    <P>入力された名前: {{ name }}</p>
</template>
```

* データの宣言方法...`const データの名前 = ref('');`
    * ref関数の引数にデータの初期値を入れる
* `<input v-model="データの名前" />`
<br>
※ref関数で扱うデータはオブジェクトに変換される

<br><br>

# 子コンポーネントから親へデータを渡す
子コンポーネントで`$emit`を使ってイベントを作成し、親コンポーネントでイベントを検知する。  
イベントと一緒にデータを渡す。
<br>

## データを渡す側(子側)
```
<script>
export default {
  methods: {
    sendMessage() {
      this.$emit("message", "子コンポーネントから送られたデータ");
    },
  },
};
</script>

<template>
  <button @click="sendMessage">メッセージを送る</button>
</template>
```
* `this.$emit`の第一引数に親側で使うイベント名を指定
* `this.$emit`の第二引数に渡す値を指定
  * 値が無い場合は第二引数を省略可能
  * 複数の値を指定することも可能
<br>

## データを受け取る側(親側)
```
<script>
export default {
  methods: {
    handleMessage() {
      this.receiveMessage = message;
    },
  },
};
</script>

<template>
  <div>
    <child-component @message="handleMessage"></child-component>
    <p>{{ receiveMessage }}<p>
  </div>
</template>
```
* messageに子コンポーネントから渡された値が格納される
* `@イベント名`で子コンポーネントで指定したイベント名を利用
* `receiveMessage`で渡された値(が格納されたデータ)を表示