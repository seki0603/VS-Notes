# React VS Laravel

## フロントエンド主体開発

1. フロント側で状態管理（useState）
2. 見た目（UI）を動かせる
3. フロントから API にデータを送って永続化
4. バックエンド →DB に保存して戻す
5. React が画面に反映する

<br>

- UI（見た目の状態）はフロントが管理
- データの永続化は API 経由でバックエンドに依頼
  <br>

## バックエンド主体開発

1. サーバー側（Laravel）が永続化したデータを持つ
2. フロントは Blade が表示するだけ
3. サーバーへリクエスト
4. 新しい HTML が返る
5. ページ全体リロードで状態反映
   <br>

- UI（表示）もデータもバックエンドが管理
  <br>

## フロントとバックエンドの役割の違い

✔ React

「見た目の動き・状態」＝ 画面で保持
（state としてメモリ上に存在）

✔ Laravel

「永続化するデータ」＝ DB
（値が保存される）
<br>

# どちらを主体にするかの判断基準

## UI を高速・リッチにしたい場合（UX 重視）

SPA(React / Vue)を選択する最大の理由

- UI が超高速（差分レンダリング）
- リッチなインタラクション
  - チャット / 無限スクロール / リアルタイム検索 / アニメーション
- ページ遷移が速い（遷移しても状態を保持できる）
- モバイルアプリに近い UX を作れる
  <br>
  例）Twitter、Instagram、EC フロント、管理ダッシュボード etc.
  <br>

## 開発スピードを優先したい場合（開発効率重視）

Laravel(+ Livewire)の強み

- バックエンドだけで完結
- JS を書く量が圧倒的に少ない
- 状態管理がほぼ不要（PHP がやる）
- バックエンドエンジニアだけで動的 UI を作れる
- 短納期で MVP を高速に出せる
  <br>
  例）社内システム、業務システム、管理画面、業務ツール
  <br>

## 判断軸別

| 判断軸                     | 向いてる方式          |
| -------------------------- | --------------------- |
| UI の複雑さ・リッチさ      | SPA（React / Vue）    |
| 更新頻度の高さ             | SPA                   |
| 初期開発の速さ             | Laravel + Livewire    |
| バックエンド中心の構造     | Laravel + Livewire    |
| 大規模・ハイパフォーマンス | SPA                   |
| 小規模・中規模の業務アプリ | Livewire / MPA        |
| SEO 必須                   | MPA or Next.js（SSR） |

<br><br>

# React VS Livewire

## 動的 UI に対する React の差分更新

1. useState の更新
2. 仮想 DOM で差分を計算
3. 必要最小限のみ再描画
   <br>

## 動的 UI に対する Livewire の差分更新

1. 全 HTML をサーバーで再生成(常に render が呼ばれている)
2. morphdom で差分を抽出
3. 差分 DOM 適用
   <br>

## Livewire の限界

- イベントのたびにサーバー通信が必須
- 毎回サーバーで HTML を再生成している
- 差分更新はするが差分そのものがサーバー産で重い
- 頻繁な UI 更新に向かない（通信コストがネック）
- PHP 側のメモリとレンダリング負荷が増大する
  <br>

## React の利点

- UI 状態 → 全部フロントで管理
- 差分計算 → 非常に高速
- ネットワーク通信 → 必要な時だけ API に送る
- 状態管理 → 高性能で複雑な構造も OK
- 常に動き続ける UI（チャット、ダッシュボードなど）が得意
  <br>

## Livewire の方が強いケーズ

- バックエンド寄りの UI
- 適度な動的 UI（モーダル、簡易フォーム、検索）
- フロントに JS を書きたくない
- Laravel だけで MVP を作りたい
- 小規模〜中規模のパネルやダッシュボード
